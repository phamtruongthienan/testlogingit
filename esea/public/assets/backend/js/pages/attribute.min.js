var app=app||{};app.init=function(){$("#ckbEditAttribute, #ckbAttribute").hide(),$(".select2").select2(),$(document).on("shown.bs.tab",'a[data-toggle="tab"]',function(a){$.fn.dataTable.tables({visible:!0,api:!0}).columns.adjust()}),$(".modal").on("show.bs.modal",function(a){$('input[type="radio"], input[type="checkbox"]').length>0&&$('input[type="radio"], input[type="checkbox"]').iCheck({checkboxClass:"icheckbox_minimal-blue",radioClass:"iradio_minimal-blue"})});$(".table-dynamic-groupAttribute").DataTable({processing:!0,ajax:"/data/attribute.json",responsive:!0,paging:!0,lengthChange:!0,searching:!0,ordering:!0,info:!0,autoWidth:!0,scrollX:!0,scrollCollapse:!0,columns:[{data:"id"},{data:"group"},{data:null}],columnDefs:[{targets:[1],class:"text-ellipsis"},{width:"200px",targets:[-1],class:"text-center"},{width:"100px",targets:[0],class:"text-center"},{targets:[-1],orderable:!1,render:function(a,b,c,d){return'<a class="table-action table-action-edit text-green cursor-pointer" data-id="'+a.id+'"><i class="fa fa-edit"></i></a> <a class="table-action text-red table-action-delete cursor-pointer" data-id="'+a.id+'"><i class="fa fa-trash"></i></a>'}}]}),$(".table-dynamic-attribute").DataTable({processing:!0,ajax:"/data/attribute.json",responsive:!0,paging:!0,lengthChange:!0,searching:!0,ordering:!0,info:!0,autoWidth:!0,scrollX:!0,scrollCollapse:!0,columns:[{data:"id"},{data:"name"},{data:"group"},{data:"value"},{data:"unit"},{data:"active"},{data:null}],columnDefs:[{targets:[1],class:"text-ellipsis"},{width:"200px",targets:[-1,2,3,-2],class:"text-center"},{width:"100px",targets:[0,-2],class:"text-center"},{targets:[-1],orderable:!1,render:function(a,b,c,d){return'<a class="table-action table-action-edit text-green cursor-pointer" data-id="'+a.id+'"><i class="fa fa-edit"></i></a> <a class="table-action text-red table-action-delete cursor-pointer" data-id="'+a.id+'"><i class="fa fa-trash"></i></a>'}},{targets:[3],render:function(a,b,c,d){var e="";switch(a){case"true":e='<i class="fas fa-check-circle text-green"></i>';break;case"false":e="";break;default:e=a}return e}},{targets:[-2],render:function(a,b,c,d){return 1==a?'<i class="fas fa-check-circle text-green"></i>':""}}]});$("#addAttributeForm").validator().on("submit",function(a){$("#addAttributeBtn").button("loading"),$(".alert").addClass("no-display"),a.isDefaultPrevented()?$("#addAttributeBtn").button("reset"):(a.preventDefault(),setTimeout(function(){$("#alert_msg").removeClass("no-display"),$("#addAttributeBtn").button("reset"),setTimeout(function(){$(".alert").addClass("no-display")},3e3)},1e3))}),$("#editAttributeForm").validator().on("submit",function(a){$("#editAttributeBtn").button("loading"),$(".alert").addClass("no-display"),a.isDefaultPrevented()?$("#editAttributeBtn").button("reset"):(a.preventDefault(),setTimeout(function(){$("#alert_msg_edit").removeClass("no-display"),$("#editAttributeBtn").button("reset"),setTimeout(function(){$(".alert").addClass("no-display")},3e3)},1e3))}),$(document).on("click",".table-action-delete",function(a){a.preventDefault();var b=$(this),c=$(this).parents("table").DataTable();$("#confirm-delete-modal").modal({backdrop:"static",keyboard:!1}).one("click","#confirm-delete",function(a){c.row(b.parents("tr")).remove().draw()})}),$(document).on("click",".table-dynamic-attribute .table-action-edit",function(a){a.preventDefault();$(this).data("id");$("#modal-attribute-edit").modal("show")}),$(document).on("click",".table-dynamic-groupAttribute .table-action-edit",function(a){a.preventDefault();$(this).data("id");$("#modal-groupAttribute-edit").modal("show")}),$(document).on("click","#addGroupAttribute",function(a){a.preventDefault(),$("#modal-groupAttribute-add").modal("show")}),$(document).on("click","#addAttribute",function(a){a.preventDefault(),$("#modal-attribute-add").modal("show")}),$(document).on("click","#addAttributeBtn",function(a){a.preventDefault(),$("#addAttributeForm").submit()}),$(document).on("click","#editAttributeBtn",function(a){a.preventDefault(),$("#editAttributeForm").submit()}),app.changeSelect($("#add_type_attribute"),$("#inputAttribute"),$("#ckbAttribute")),app.changeSelect($("#edit_type_attribute"),$("#inputEditAttribute"),$("#ckbEditAttribute"))},app.changeSelect=function(a,b,c){a.on("change",function(a){var d=$(this).val();"1"==d?(console.log(d),c.hide(),b.show()):(console.log(d),c.show(),b.hide())})},$(function(){app.init()});